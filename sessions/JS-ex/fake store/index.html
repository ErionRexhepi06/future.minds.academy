<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fake Store</title>
</head>

<style>
    *{
        box-sizing: border-box;
        color: inherit;
        font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    }

    img{max-width: 100%;}

    body{
        margin: 0;
        min-height: 100vh;
        padding: 1rem;
    }

    #title{
        text-align: center;
    }

    .products-contanier{
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1rem;
    }

    .product{
        grid-template-columns: span 1;
        grid-template-rows: span 1;

        box-shadow: 1px 1px 5px rgba(128, 128, 128, 0.486);
        padding: 2rem;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
        cursor: pointer;
        transition: transform .4s ease;
    }

    .product-title{
        margin: 0;
        text-transform: uppercase;
        text-wrap: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    .product-category{
        color: rgb(102, 102, 102);
        margin: 0;
    }

    .product-pic{
        object-fit: contain;
        aspect-ratio: 1/1;
    }

    .product-bottom{
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: auto;
    }

    .product-price{
        font-size: 1.4rem;
        color: crimson;
    }

    .product-rating{
        color: gray;
    }

</style>

<body>

    <h1 id="title">AMAZON</h1>

    <section class="products-contanier"></section>

    <script>
        let BASE_URL = 'https://fakestoreapi.com/products'
        let productsContanier = document.querySelector('.products-contanier')
        fetch(BASE_URL)
            .then(res => res.json())
            .then((products) => {
                products.forEach((product) => {
                    let card = createProductCard(product);

                    productsContanier.appendChild(card);
                });
            });

        function createProductCard(product){
            let productEl = document.createElement('acrticle');
            product.classList.add('product');  

            let productTitle = document.createElement('h3');
            productTitle.classList.add('product-title');
            productTitle.textContent = product.title;

            let productCategory = document.createElement('p');
            productCategory.classList.add('product-category');
            productCategory.textContent = product.category;

            let productImage = document.createElemnent('img');
            productImage.classList.add('product-pic');
            productImage.src = product.image;

            let bottom = document.createElement('div')
            bottom.classList.add('products-bottom');

            let productPrice = document.createElemnent('span');
            productPrice.classList.add('product-price');
            product,textContent = `${product.price}$`;

            let productRating = document.createElement('span');
            productRating.classList.add('product-rating');
            productRating.textContent = `${product.rating.rate}/5`;

            bottom.appendChild(productPrice);
            bottom.appendChild(productRating);

            productEl.appendChild(productTitle);
            productEl.appendChild(productCategory);
            productEl.appendChild(productImage);
            productEl.appendChild(bottom);

            productEl.addEventListener('click', () =>{
                expandProduct(product); 
            })

            return productEl
        }
    </script>
</body>

</html>